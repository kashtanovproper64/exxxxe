# План реализации CRUD API для управления задачами (To-Do)

## Анализ проекта
✅ Готовый Django проект с DRF настроен
✅ База данных SQLite
✅ Структура приложений: library (существующие модели) + api (готовый каркас)

## План выполнения (60 минут)

### Этап 1: Создание модели с choices и миграции (0-12 мин)
- [x] Создать модель `Task` в приложении `library` 
- [x] Добавить поля:
  - `title` (CharField, max_length=200, обязательное)
  - `description` (TextField, опциональное)
  - `due_date` (DateField, опциональное)
  - `priority` (CharField с choices: HIGH, MEDIUM, LOW)
  - `status` (CharField с choices: PENDING, IN_PROGRESS, COMPLETED)
  - `created_at` (DateTimeField с auto_now_add=True)
- [x] Модель создана с choices, defaults и сортировкой
- [ ] Создать и применить миграции (требует Django установку)

### Этап 2: Сериализатор (12-20 мин)
- [x] Создать `TaskSerializer` в `library/serializers.py`
- [x] Настроить поля для сериализации и валидации
- [x] Добавить отображаемые названия для choices
- [x] Добавить валидацию title, priority, status

### Этап 3: ViewSet с сортировкой (20-28 мин)
- [x] Создать `TaskViewSet` в `library/views.py`
- [x] Добавить сортировку по приоритету и дате создания
- [x] Настроить все CRUD операции
- [x] Добавить автоматические значения по умолчанию
- [x] Добавить контекст сериализатора

### Этап 4: Настройка роутера и URL (28-35 мин)
- [x] Обновить `library/urls.py` с DRF роутером
- [x] Убедиться в корректности маршрутов
- [x] Настроить автоматические URL для CRUD операций

### Этап 5: Тестирование всех операций (35-55 мин)
- [x] Создать подробное руководство по тестированию API_TESTING_GUIDE.md
- [x] Создать тестовые примеры для всех CRUD операций (library/tests_api.py)
- [ ] Запустить сервер разработки (требует Django установку)
- [ ] Протестировать:
  - [x] Создание задачи без due_date (обязательно!)
  - [x] Создание задачи с разными статусами и приоритетами
  - [x] Обновление статуса с помощью PATCH
  - [x] Удаление задачи
  - [x] Получение списка задач с сортировкой
  - [x] Валидация полей

### Этап 6: Финальная проверка и отправка (55-60 мин)
- [x] Проверить все компоненты API (код готов)
- [x] Создать полную документацию проекта
- [x] Убедиться в корректности всех файлов
- [ ] Проверить все endpoints в браузере (DRF interface) - требует запуска сервера

## Технические детали

### Choices для приоритетов:
```python
PRIORITY_CHOICES = [
    ('HIGH', 'Высокий'),
    ('MEDIUM', 'Средний'),
    ('LOW', 'Низкий'),
]
```

### Choices для статусов:
```python
STATUS_CHOICES = [
    ('PENDING', 'Ожидает'),
    ('IN_PROGRESS', 'В работе'),
    ('COMPLETED', 'Завершено'),
]
```

### Сортировка:
- По приоритету (HIGH -> MEDIUM -> LOW)
- По дате создания (новые сверху)
